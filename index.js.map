{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/refs.js","../src/js/render-functions.js","../src/js/handlers.js","../src/main.js"],"sourcesContent":["\nimport axios from \"axios\";\nconst APIkey = \"52837219-31e3d366b905b38697491d842\";\naxios.defaults.baseURL = 'https://pixabay.com';\nexport function getImagesByQuery(query) {\n    return axios.get(\"/api/\",{params:{\n        key: APIkey,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch:true,\n    }\n    })\n        .then(response => {\n     return response.data.hits\n        })\n        .catch(error => {\n    console.log(error.message);\n    \n    })\n}","export const refs = {\n  formEl: document.querySelector('.form'),\n  galleryEl: document.querySelector('.gallery'),\n  loaderEl: document.querySelector('.loader'),\n};","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { refs } from \"./refs\";\nlet galleryLightBox;\nexport function createGallery(images) {\n    let markup = \"\";\n    for (const image of images) {\n        markup +=`<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n            </a>\n            <ul class=\"image-stats-list\">\n                <li class=\"image-stats-item\">\n                    <h3 class=\"image-stats-title\">Likes</h3>\n                    <p class=\"image-stats\">${image.likes}</p>\n                </li>\n                <li class=\"image-stats-item\">\n                    <h3 class=\"image-stats-title\">Views</h3>\n                    <p class=\"image-stats\">${image.views}</p>\n                </li>\n                <li class=\"image-stats-item\">\n                    <h3 class=\"image-stats-title\">Comments</h3>\n                    <p class=\"image-stats\">${image.comments}</p>\n                </li>\n                <li class=\"image-stats-item\">\n                    <h3 class=\"image-stats-title\">Downloads</h3>\n                    <p class=\"image-stats\">${image.downloads}</p>\n                </li>\n            </ul>\n        </li>`  \n    }\n    refs.galleryEl.insertAdjacentHTML(\"beforeend\", markup)\n    \n    if (!galleryLightBox) {\n    galleryLightBox = new SimpleLightbox('.gallery a', {\n      animationSpeed: 300,\n      fadeSpeed: 250,\n      captions: true,\n      captionDelay: 250,\n      captionType: 'attr',\n      captionsData: 'alt',\n      captionPosition: 'bottom',\n      showCounter: true,\n      scrollZoom: true,\n    });\n  } else {\n    galleryLightBox.refresh();\n  }\n}\n\nexport function clearGallery() { \n refs.galleryEl.innerHTML=\"\"   \n} \n\nexport function showLoader(){\n    if (refs.loaderEl.classList.contains(\"visually-hidden\")) {\n        refs.loaderEl.classList.remove(\"visually-hidden\")\n    }\n    \n}\n\nexport function hideLoader() {\nif (!refs.loaderEl.classList.contains(\"visually-hidden\")) {\n        refs.loaderEl.classList.add(\"visually-hidden\")\n    }\n}\n","\nimport iziToast from \"izitoast\"\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { getImagesByQuery } from \"./pixabay-api\"\nimport { clearGallery, createGallery, hideLoader, showLoader } from \"./render-functions\";\nexport function handleSubmit(event) {\nevent.preventDefault() \n    const userInput = event.target.elements[0].value.trim()\n    if (userInput === \"\") {\n       iziToast.error({\n            message: 'Please write something',\n            position: 'topRight', \n    })\n    }\nclearGallery()\nshowLoader()\n    getImagesByQuery(userInput)\n        .then(hits => {\n            if (!hits || hits.length === 0) {\n        throw new Error('No images found');\n      }\n      showLoader();\n     createGallery(hits)\n        })\n        .catch((error)=> {\n     hideLoader();\n      iziToast.error({\n        message: `Houston, we have a problem.`,\n        position: 'topRight',\n        backgroundColor: '#ef4040',\n        messageColor: '#ffffff',\n      });\n    })\n        .finally(() => {\nhideLoader()          \n})\n}","\nimport { handleSubmit } from \"./js/handlers\";\nimport { refs } from \"./js/refs\";\nimport { hideLoader } from \"./js/render-functions\";\nhideLoader()\nrefs.formEl.addEventListener(\"submit\", handleSubmit);\n"],"names":["APIkey","axios","getImagesByQuery","query","response","error","refs","galleryLightBox","createGallery","images","markup","image","SimpleLightbox","clearGallery","showLoader","hideLoader","handleSubmit","event","userInput","iziToast","hits"],"mappings":"owBAEA,MAAMA,EAAS,qCACfC,EAAM,SAAS,QAAU,sBAClB,SAASC,EAAiBC,EAAO,CACpC,OAAOF,EAAM,IAAI,QAAQ,CAAC,OAAO,CAC7B,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAW,EACd,CACL,CAAK,EACI,KAAKC,GACFA,EAAS,KAAK,IACjB,EACA,MAAMC,GAAS,CACpB,QAAQ,IAAIA,EAAM,OAAO,CAE7B,CAAK,CACL,CCpBO,MAAMC,EAAO,CAClB,OAAQ,SAAS,cAAc,OAAO,EACtC,UAAW,SAAS,cAAc,UAAU,EAC5C,SAAU,SAAS,cAAc,SAAS,CAC5C,ECDA,IAAIC,EACG,SAASC,EAAcC,EAAQ,CAClC,IAAIC,EAAS,GACb,UAAWC,KAASF,EAChBC,GAAS;AAAA,4CAC2BC,EAAM,aAAa;AAAA,kDACbA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,6CAK3CA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,6CAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,6CAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,6CAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,eAKxDL,EAAK,UAAU,mBAAmB,YAAaI,CAAM,EAEhDH,EAaLA,EAAgB,QAAO,EAZvBA,EAAkB,IAAIK,EAAe,aAAc,CACjD,eAAgB,IAChB,UAAW,IACX,SAAU,GACV,aAAc,IACd,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,YAAa,GACb,WAAY,EAClB,CAAK,CAIL,CAEO,SAASC,GAAe,CAC9BP,EAAK,UAAU,UAAU,EAC1B,CAEO,SAASQ,GAAY,CACpBR,EAAK,SAAS,UAAU,SAAS,iBAAiB,GAClDA,EAAK,SAAS,UAAU,OAAO,iBAAiB,CAGxD,CAEO,SAASS,GAAa,CACxBT,EAAK,SAAS,UAAU,SAAS,iBAAiB,GAC/CA,EAAK,SAAS,UAAU,IAAI,iBAAiB,CAErD,CC5DO,SAASU,EAAaC,EAAO,CACpCA,EAAM,eAAgB,EAClB,MAAMC,EAAYD,EAAM,OAAO,SAAS,CAAC,EAAE,MAAM,KAAM,EACnDC,IAAc,IACfC,EAAS,MAAM,CACV,QAAS,yBACT,SAAU,UACtB,CAAK,EAELN,EAAc,EACdC,EAAY,EACRZ,EAAiBgB,CAAS,EACrB,KAAKE,GAAQ,CACV,GAAI,CAACA,GAAQA,EAAK,SAAW,EACjC,MAAM,IAAI,MAAM,iBAAiB,EAEnCN,IACDN,EAAcY,CAAI,CACvB,CAAS,EACA,MAAOf,GAAS,CACpBU,IACCI,EAAS,MAAM,CACb,QAAS,8BACT,SAAU,WACV,gBAAiB,UACjB,aAAc,SACtB,CAAO,CACP,CAAK,EACI,QAAQ,IAAM,CACvBJ,EAAY,CACZ,CAAC,CACD,CChCAA,EAAY,EACZT,EAAK,OAAO,iBAAiB,SAAUU,CAAY"}